@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  /* Palette (provided)
     space-indigo:   #2b2d42
     lavender-grey:  #8d99ae
     bright-lemon:   #f8f32b
     white:          #ffffff
     black:          #000000
  */
  /* Light mode: keep it calm, not pure white-on-black vibes. */
  --bg: color-mix(in srgb, #8d99ae 14%, #ffffff);
  --panel: #ffffff;
  --panel-2: color-mix(in srgb, #8d99ae 10%, #ffffff);

  /* Prefer space-indigo for text in light mode for identity consistency. */
  --text: #2b2d42;
  --muted: #8d99ae;
  --border: color-mix(in srgb, #8d99ae 22%, #ffffff);

  /* Light theme accent: space-indigo (readable on white) */
  --accent: #2b2d42;
  --accent-contrast: #ffffff;

  color-scheme: light;
}

html.dark {
  --bg: #000000;
  --panel: #2b2d42;
  --panel-2: color-mix(in srgb, #2b2d42 78%, #000000);
  --text: #ffffff;
  --muted: #8d99ae;
  --border: color-mix(in srgb, #8d99ae 28%, #2b2d42);

  /* Dark theme accent: bright-lemon (high visibility on dark) */
  --accent: #f8f32b;
  --accent-contrast: #000000;

  color-scheme: dark;
}

body {
  background: var(--bg);
  color: var(--text);
  font-family: "Sora", ui-sans-serif, system-ui;
}

html,
body,
#root {
  width: 100%;
  overflow-x: hidden;
}

/* Theme-swapped logos */
.dinova-logo-dark {
  display: none;
}
html.dark .dinova-logo-dark {
  display: inline-block;
}
html.dark .dinova-logo-light {
  display: none;
}

/* Thin, styled scrollbars (Firefox + WebKit). Also hide horizontal scrollbars globally. */
* {
  scrollbar-width: thin;
  scrollbar-color: color-mix(in srgb, var(--muted) 40%, transparent) transparent;
}

*::-webkit-scrollbar {
  width: 8px;
  height: 0px; /* hide horizontal scrollbar */
}

*::-webkit-scrollbar-track {
  background: transparent;
}

*::-webkit-scrollbar-thumb {
  background: color-mix(in srgb, var(--muted) 35%, transparent);
  border-radius: 999px;
  border: 2px solid transparent;
  background-clip: padding-box;
}

*::-webkit-scrollbar-thumb:hover {
  background: color-mix(in srgb, var(--muted) 55%, transparent);
}

.overflow-auto,
.overflow-y-auto {
  overflow-x: hidden;
}

.dinova-panel {
  background: var(--panel);
  border: 1px solid var(--border);
}

.dinova-panel-2 {
  background: var(--panel-2);
  border: 1px solid var(--border);
}

.dinova-border {
  border-color: var(--border);
}

.dinova-muted {
  color: var(--muted);
}

.dinova-accent {
  color: var(--accent);
}

.dinova-accent-bg {
  background: var(--accent);
}

@keyframes dinovaFadeIn {
  from {
    opacity: 0;
    transform: translateY(6px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.dinova-fade-in {
  animation: dinovaFadeIn 220ms ease-out;
}

@keyframes dinovaDots {
  0% {
    content: "";
  }
  33% {
    content: ".";
  }
  66% {
    content: "..";
  }
  100% {
    content: "...";
  }
}

.dinova-dots::after {
  content: "";
  display: inline-block;
  width: 1.5em;
  text-align: left;
  animation: dinovaDots 1.1s steps(1, end) infinite;
}

/* Minimal Markdown styling inside assistant messages */
.dinova-md {
  line-height: 1.6;
  overflow-wrap: anywhere;
  word-break: break-word;
}

.dinova-md h1,
.dinova-md h2,
.dinova-md h3 {
  font-weight: 650;
  margin: 0.9em 0 0.4em;
}

.dinova-md h1 {
  font-size: 1.15rem;
}

.dinova-md h2 {
  font-size: 1.05rem;
}

.dinova-md h3 {
  font-size: 1rem;
}

.dinova-md p {
  margin: 0.65em 0;
}

.dinova-md ul,
.dinova-md ol {
  margin: 0.65em 0;
  padding-left: 1.25em;
}

.dinova-md li {
  margin: 0.25em 0;
}

.dinova-md code {
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New",
    monospace;
  font-size: 0.92em;
  padding: 0.15em 0.35em;
  border: 1px solid var(--border);
  border-radius: 0.5rem;
  background: var(--panel-2);
  white-space: pre-wrap;
  overflow-wrap: anywhere;
}

.dinova-md pre {
  margin: 0.9em 0;
  padding: 0.9em;
  border: 1px solid var(--border);
  border-radius: 1rem;
  background: var(--panel-2);
  overflow: hidden;
  white-space: pre-wrap;
}

.dinova-md pre code {
  padding: 0;
  border: 0;
  background: transparent;
  white-space: pre-wrap;
}

.dinova-md a {
  color: var(--accent);
  text-decoration: none;
}

.dinova-md a:hover {
  text-decoration: underline;
}

.dinova-md hr {
  border: 0;
  border-top: 1px solid var(--border);
  margin: 1em 0;
}

.dinova-md blockquote {
  margin: 0.8em 0;
  padding: 0.2em 0 0.2em 0.9em;
  border-left: 3px solid var(--border);
  color: var(--muted);
}
